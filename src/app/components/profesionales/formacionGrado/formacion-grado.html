<app-formacion-grado-form [profesional]="profesional" ></app-formacion-grado-form>
<plex-box *ngFor="let formacionGrado of profesional.formacionGrado; let i = index;">
    <header>
        <div class="row">
            <div class="col">
                <legend class="info-subtitle float-left">
                    {{formacionGrado.profesion.nombre}}            
                </legend>
            </div>
            <div class="col">
                <div class="btn-group float-right">           
                    <plex-button *ngIf="!formacionGrado.matriculacion?.matriculacionNumero"
                        type="primary"
                        class="float-right"
                        icon="information-outline"            
                        (click)="showFormacion(i)"></plex-button>
                        <plex-button *ngIf='formacionGrado.matriculacion && tieneFirma && formacionGrado.matriculado'
                        title="Generar credencial"
                        type="success"
                        class="float-right"
                        icon="mdi mdi-credit-card"            
                        (click)="generarCredencial(i)"></plex-button>              
                </div>
            </div>
        </div>
    </header>

    <div class="row">
        <div class="col-3">
            <label>Título</label> 
            <div>{{formacionGrado.titulo}}</div>
        </div>
        <div class="col-2">
            <label>Fecha del Título</label> 
            <div>{{formacionGrado.fechaTitulo | date: 'dd/MM/yyyy'}}</div>
        </div>
        <div class="col-3">
            <label>Entidad Formadora</label> 
            <div>{{formacionGrado.entidadFormadora.nombre}}</div>
        </div>
        <div class="col-2" *ngIf='!formacionGrado.matriculacion && formacionGrado.revalida === false' >

            <div *ngIf='!formacionGrado.papelesVerificados' class="badge badge-warning">Papeles <br> sin verificar</div>
            <div *ngIf='formacionGrado.papelesVerificados' class="badge badge-info">Papeles <br>  Verificados</div>
        </div>
        <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === false' >
           <span *ngIf='formacionGrado.matriculado === false' class="badge badge-danger"> Matricula <br> suspendida</span>
           <span *ngIf='formacionGrado.matriculado' class="badge badge-success"> Matriculado</span>
        </div>
        <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === true' >          
  
            <div *ngIf='!formacionGrado.papelesVerificados' class="badge badge-warning">Papeles <br> sin verificar</div>
             <div *ngIf='formacionGrado.papelesVerificados' class="badge badge-info">Papeles <br> verificados</div>
         </div>
        <!-- <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === false && hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' >
            <span *ngIf=' hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' class="badge badge-danger"> Matricula <br> suspendida</span>

        </div> -->

        
        <!-- <div class="col-2" *ngIf='!formacionGrado.matriculacion && formacionGrado.revalida === true' >
            
                        <div *ngIf='!formacionGrado.papelesVerificados' class="badge badge-warning">Papeles <br> sin verificar</div>
                        <div *ngIf='formacionGrado.papelesVerificados' class="badge badge-success">Papeles <br>  Verificados</div>
                    </div>
                    <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === true' >
                       <span *ngIf=' hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin && formacionGrado.papelesVerificados ' class="badge badge-danger"> Matricula <br> suspendida</span>
                       <span *ngIf='formacionGrado.matriculacion && hoy < formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' class="badge badge-success"> Matriculado</span>
                    </div>
                    <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === false && hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' >          
              
                        <div *ngIf='!formacionGrado.papelesVerificados' class="badge badge-warning">Papeles <br> sin verificar</div>
                         <div *ngIf='formacionGrado.papelesVerificados' class="badge badge-success">Papeles <br> verificados</div>
                     </div>
                    <div class="col-2"  *ngIf='formacionGrado.matriculacion && formacionGrado.revalida === false && hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' >
                        <span *ngIf=' hoy > formacionGrado.matriculacion[formacionGrado.matriculacion.length - 1].fin' class="badge badge-danger"> Matricula <br> suspendida</span>
            
                    </div> -->
            


        <!--<div class="col-1">
            <plex-button class="float-right" type="primary" icon="information-outline"  *ngIf="!formacionPosgrado.matriculacion?.matriculacionNumero" (click)="showPosgrado(i)"></plex-button>            
        </div>-->
    </div>
</plex-box>

<!--
<plex-box>
<div class="row">
    <div class="col-12">
        <fieldset *ngFor="let formacionGrado of profesional.formacionGrado; let i = index;">
            <legend class="info-subtitle">
                {{formacionGrado.profesion.nombre}}            
            </legend>
            <div class="row">
                <div class="col-3 ">
                    <label>Título</label> 
                    <div>{{formacionGrado.titulo}}</div>
                </div>
                <div class="col-2">
                    <label>Fecha del Título</label> 
                    <div>{{formacionGrado.fechaTitulo | date: 'dd/MM/yyyy'}}</div>
                </div>
                <div class="col-6">
                    <label>Entidad Formadora</label> 
                    <div>{{formacionGrado.entidadFormadora.nombre}}</div>
                </div>
                <div class="col-1 align-baseline">
                    <plex-tooltip text="Ver más información" position="left">
                        <plex-button class=" align-baseline" type="primary" icon="information-outline"  *ngIf="!formacionGrado.matriculacion?.matriculacionNumero" (click)="showFormacion(i)"></plex-button>
                    </plex-tooltip>
                </div>
            </div>
            <hr *ngIf="i !== profesional.formacionGrado.length - 1">
        </fieldset>

    </div>
</div>
</plex-box>-->