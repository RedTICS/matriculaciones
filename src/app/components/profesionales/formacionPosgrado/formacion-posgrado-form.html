<plex-accordion>
  <plex-panel tituloPrincipal="Nuevo Posgrado" icon="plus-circle-outline" [active]="activeAcc">
    <div class="row">
      <div class="col">
        <form #posgrado='ngForm'>
          <div class="row">
            <div class="col-4">
              <plex-select label="Profesión" [(ngModel)]="profesionalP.profesion" name="profesion" [data]="profesiones" [required]="true" [readonly]="!profesional.habilitado"></plex-select>
            </div>
            <div class="col-4">
              <plex-select label="Especialidad" [(ngModel)]="profesionalP.especialidad" name="especialidad" (getData)="loadEspecialidades($event)" [required]="true" [readonly]="!profesional.habilitado"></plex-select>
            </div>
            <div class="col-4">
              <plex-int label="Matrícula Nro" (change)='ultimaMatricula()' [(ngModel)]="profesionalP.matriculacion[0].matriculaNumero" name="matriculaNro" [required]="true" [readonly]="!profesional.habilitado"></plex-int>
              <!-- <span class="badge badge-info" *ngIf='profesionalP.matriculacion[0].matriculaNumero && !numeroMenor'>Ultimo Nro: {{ultimoNumeroMatricula}}</span> -->
              <span class="badge badge-danger" *ngIf='profesionalP.matriculacion[0].matriculaNumero && numeroMenor'>debe ingresar un número mayor que {{ultimoNumeroMatricula}} </span>
            </div>
          </div>
          <div class="row">
            <!-- <div class="col-6">
                            <plex-select label="Institucion Formadora" *ngIf="!showOtraEntidadFormadora" [(ngModel)]="profesionalP.institucionFormadora"
                                name="entidadFormadora" (getData)="loadEntidadesFormadoras($event)" [required]="true"></plex-select>
                            <plex-text *ngIf="showOtraEntidadFormadora" name='entidad' label="Otra Entidad Formadora" [(ngModel)]="profesionalP.institucionFormadora.nombre"
                                [required]="true"></plex-text>
                        </div>
                        <div class="col">
                            <plex-bool [(ngModel)]="showOtraEntidadFormadora" label="Otra Entidad Formadora" (change)='otraEntidad(profesionalP)'
                                name="otra"></plex-bool>
                        </div> -->
            <div class="col-3">
              <plex-datetime type="date" label="Fecha de Ingreso" [(ngModel)]="profesionalP.fechaIngreso" name="fechaIngreso" [readonly]="!profesional.habilitado"></plex-datetime>
            </div>
            <div class="col-3">
              <plex-datetime type="date" label="Fecha de Egreso" [(ngModel)]="profesionalP.fechaEgreso" name="fechaEgreso" [readonly]="!profesional.habilitado"></plex-datetime>
            </div>
            <div class="col-3">
              <plex-text label="Libro" [(ngModel)]="profesionalP.matriculacion[0].libro" name="libro" [required]="true" [readonly]="!profesional.habilitado"></plex-text>
            </div>
            <div class="col-3">
              <plex-text label="Folio" [(ngModel)]="profesionalP.matriculacion[0].folio" name="folio" [required]="true" [readonly]="!profesional.habilitado"></plex-text>
            </div>
            <div class="col-3">
              <plex-select label="Modalidad" [(ngModel)]="profesionalP.certificacion.modalidad" name="modalidad" (getData)="loadModalidadesCertificacion($event)" [readonly]="!profesional.habilitado"></plex-select>
            </div>
          </div>
          <hr>
          <div>
            <div class="row">

              <div class="col-4">
                <plex-datetime type="date" label="Fecha de Alta" [(ngModel)]="profesionalP.fechasDeAltas[0].fecha" name="fecha" [required]="true" [readonly]="!profesional.habilitado"></plex-datetime>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <plex-button *ngIf="profesional.habilitado" label="Guardar" type="success" class="float-right" (click)="onSubmit($event,posgrado)" validateForm="true"></plex-button>
              <plex-button *ngIf="!profesional.habilitado" disabled="true" label="Guardar" type="success" class="float-right" (click)="onSubmit($event,posgrado)" validateForm="true"></plex-button>

            </div>
          </div>
        </form>
      </div>
    </div>

  </plex-panel>
</plex-accordion>
